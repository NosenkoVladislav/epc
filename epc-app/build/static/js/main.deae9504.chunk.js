(this["webpackJsonpepc-app"]=this["webpackJsonpepc-app"]||[]).push([[0],{44:function(e,a,t){e.exports=t(60)},50:function(e,a,t){},52:function(e,a,t){},60:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(7),l=t.n(c),o=(t(49),t(50),t(17)),s=t(8),u=t.n(s),i=t(15),m=t(33),d=t(34),p=function(){function e(){Object(m.a)(this,e),this._apiUrl="http://localhost:3000/users/"}return Object(d.a)(e,[{key:"getAllUsers",value:function(){var e=Object(i.a)(u.a.mark((function e(){var a,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(this._apiUrl);case 3:if((a=e.sent).ok){e.next=6;break}throw new Error("Could not get ".concat(this._apiUrl,", received ").concat(a.status));case 6:return e.next=8,a.json();case 8:return t=e.sent,e.abrupt("return",t);case 12:e.prev=12,e.t0=e.catch(0),console.log("Cannot get users");case 15:case"end":return e.stop()}}),e,this,[[0,12]])})));return function(){return e.apply(this,arguments)}}()},{key:"editUser",value:function(){var e=Object(i.a)(u.a.mark((function e(a,t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(this._apiUrl+t,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("Cannot edit user data");case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(a,t){return e.apply(this,arguments)}}()},{key:"deleteUser",value:function(){var e=Object(i.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(this._apiUrl+a,{method:"DELETE"});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log("Cannot delete user");case 8:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(a){return e.apply(this,arguments)}}()}]),e}(),h=t(64),f=(t(52),t(43)),v=t(19),E=function(e){var a=e.user,t=e.setModalShow,n=e.index,c=a.name,l=a.location;return r.a.createElement(v.b,{draggableId:a.login.uuid,index:n},(function(e,n){return r.a.createElement(f.a,Object.assign({className:"list-item ".concat(n.isDragging?"dragging":""),onClick:function(){t(a)},ref:e.innerRef},e.draggableProps,e.dragHandleProps),r.a.createElement("div",{className:"item-info"},r.a.createElement("div",{className:"item-info__block"},"".concat(c.first," ").concat(c.last," ")),r.a.createElement("div",{className:"item-info__block __sm"},l.country)))}))},g=t(23),b=t(30),y=t(63),x=t(62),w=t(66),N=function(e){var a=e.value,t=e.name,n=e.onInputChange;return r.a.createElement(x.a,{className:"mb-3"},r.a.createElement(w.a,{name:t,value:a,onChange:function(e){n(t,e)}}))},j=t(65),O=function(e){var a=e.handler,t=e.handleValue,n=e.type,c=e.child;return r.a.createElement(j.a,{variant:n,onClick:function(){return a(t)}},c)},k=function(e){var a=e.hideModal,t=e.user,c=e.handleData,l=Object(n.useState)({firstName:t.name.first,lastName:t.name.last,phone:t.phone,email:t.email,country:t.location.country,username:t.login.username,password:t.login.password}),s=Object(o.a)(l,2),m=s[0],d=s[1],h=m.firstName,f=m.lastName,v=m.phone,E=m.email,x=m.country,w=m.username,j=m.password,k=new p,C=Object(n.useState)(!1),U=Object(o.a)(C,2),_=U[0],I=U[1],S=function(e,a){var t=a.target;return d((function(a){return Object(b.a)(Object(b.a)({},a),{},Object(g.a)({},e,t.value))}))},D=function(){var e=Object(i.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.editUser(m,t.login.uuid);case 2:return e.next=4,c();case 4:a(null);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(i.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.deleteUser(t.login.uuid);case 2:return e.next=4,c();case 4:I(!1),a(null);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(n.Fragment,null,_?r.a.createElement(y.a,{onHide:function(){return I(!1)},className:"confirm-Modal",show:!0},r.a.createElement(y.a.Header,{closeButton:!0},r.a.createElement(y.a.Title,null,"Delete User")),r.a.createElement(y.a.Body,null,r.a.createElement("div",{className:"Modal-text"},"Are you sure you want to delete user?")),r.a.createElement(y.a.Footer,null,r.a.createElement("div",{className:"Modal-button-group"},r.a.createElement(O,{type:"secondary",handler:I,handleValue:!1,child:"No"}),r.a.createElement(O,{type:"danger",handler:V,handleValue:null,child:"Yes"})))):r.a.createElement(y.a,{show:!!t,onHide:function(){return a(null)},className:"user-info-Modal"},r.a.createElement(y.a.Header,{closeButton:!0},r.a.createElement(y.a.Title,null,"User Info")),r.a.createElement(y.a.Body,null,r.a.createElement("div",{className:"Modal-section Modal-section__image"},r.a.createElement("img",{src:t.picture.large,alt:""})),r.a.createElement("div",{className:"Modal-section Modal-section__top"},r.a.createElement(N,{name:"firstName",value:h,onInputChange:S}),r.a.createElement(N,{name:"lastName",value:f,onInputChange:S}),r.a.createElement(N,{name:"phone",value:v,onInputChange:S}),r.a.createElement(N,{name:"country",value:x,onInputChange:S})),r.a.createElement("div",{className:"Modal-section"},r.a.createElement(N,{name:"email",value:E,onInputChange:S}),r.a.createElement(N,{name:"username",value:w,onInputChange:S}),r.a.createElement(N,{name:"password",value:j,onInputChange:S}))),r.a.createElement(y.a.Footer,null,r.a.createElement("div",{className:"Modal-button-group"},r.a.createElement(O,{type:"danger",handler:I,handleValue:!0,child:"Delete"})),r.a.createElement("div",{className:"Modal-button-group"},r.a.createElement(O,{type:"secondary",handler:a,handleValue:null,child:"Close"}),r.a.createElement(O,{type:"primary",handler:D,handleValue:null,child:"Save Changes"})))))};k.defaultProps={user:null};var C=k,U=function(){var e=Object(n.useState)([]),a=Object(o.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(null),s=Object(o.a)(l,2),u=s[0],i=s[1],m=new p;Object(n.useEffect)((function(){d()}),[]);var d=function(){return m.getAllUsers().then((function(e){c(e)}))};return r.a.createElement("div",{className:"App"},r.a.createElement(v.a,{onDragEnd:function(e){var a=e.destination,n=e.source;if(a&&(a.index!==n.index||a.droppableId!==n.droppableId)){var r=t[n.index];t.splice(n.index,1),t.splice(a.index,0,r),c(t)}}},r.a.createElement(v.c,{droppableId:"droppable"},(function(e){return r.a.createElement(h.a,Object.assign({className:"list"},e.droppableProps,{ref:e.innerRef}),t.map((function(e,a){return r.a.createElement(E,{key:e.login.uuid,user:e,isModalOpen:u,setModalShow:i,index:a})})),e.placeholder)}))),u?r.a.createElement(C,{user:u,hideModal:i,setUsers:c,handleData:d}):null)};l.a.render(r.a.createElement(U,null),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.deae9504.chunk.js.map